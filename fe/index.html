<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belajar Bahasa - Platform Pembelajaran Bahasa Online</title>
    <meta name="description" content="Platform pembelajaran bahasa online terbaik dengan materi terstruktur, kuis interaktif, dan komunitas pembelajar aktif. Mulai belajar bahasa baru hari ini!">
    <meta name="keywords" content="belajar bahasa, pembelajaran online, kursus bahasa, bahasa inggris, bahasa jepang, bahasa korea">
    <meta name="author" content="BelajarBahasa Platform">
    <meta property="og:title" content="BelajarBahasa - Platform Pembelajaran Bahasa Online">
    <meta property="og:description" content="Kuasai bahasa baru dengan mudah melalui platform pembelajaran yang komprehensif">
    <meta property="og:type" content="website">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📚</text></svg>">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>    <!-- Header dan Navigasi -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="nav-brand">BelajarBahasa</a>
                <ul class="nav-menu" id="navAuthItems">
                    <!-- Diisi dinamis oleh JS -->
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Kuasai Bahasa Baru dengan <span class="highlight">Mudah & Efektif</span></h1>
                    <p class="hero-description">Platform pembelajaran bahasa yang komprehensif dengan materi terstruktur, kuis interaktif, dan komunitas pembelajar aktif. Mulai perjalanan bahasa Anda hari ini!</p>
                    <div class="hero-buttons">
                        <a href="#lessons" class="btn btn-primary btn-large">Mulai Belajar</a>
                        <a href="register.html" class="btn btn-secondary btn-large">Daftar Gratis</a>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="hero-card">
                        <div class="language-icons">
                            <div class="language-icon">🇬🇧</div>
                            <div class="language-icon">🇯🇵</div>
                            <div class="language-icon">🇰🇷</div>
                            <div class="language-icon">🇫🇷</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <div class="section-header">
                <h2>Mengapa Memilih Platform Kami?</h2>
                <p>Fitur-fitur unggulan yang membuat pembelajaran bahasa menjadi lebih mudah dan menyenangkan</p>
            </div>            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">📚</div>
                    <h3>Materi Terstruktur</h3>
                    <p>Materi pembelajaran yang disusun secara sistematis dari level pemula hingga mahir</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🎯</div>
                    <h3>Kuis Interaktif</h3>
                    <p>Latihan soal yang interaktif untuk menguji pemahaman dan mengasah kemampuan</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">💬</div>
                    <h3>Komunitas Diskusi</h3>
                    <p>Berinteraksi dengan sesama pembelajar dalam forum diskusi yang aktif</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Lessons Section -->
    <section class="lessons-section" id="lessons">
        <div class="container">
            <div class="section-header">
                <h2>Materi Pembelajaran Terbaru</h2>
                <p>Pilih materi yang sesuai dengan level dan minat Anda</p>
            </div>
            <div id="lessonList" class="lesson-list">
                <!-- Loading placeholder -->
                <div class="lesson-card-skeleton">
                    <div class="skeleton-header"></div>
                    <div class="skeleton-content"></div>
                    <div class="skeleton-footer"></div>
                </div>
                <div class="lesson-card-skeleton">
                    <div class="skeleton-header"></div>
                    <div class="skeleton-content"></div>
                    <div class="skeleton-footer"></div>
                </div>
                <div class="lesson-card-skeleton">
                    <div class="skeleton-header"></div>
                    <div class="skeleton-content"></div>
                    <div class="skeleton-footer"></div>
                </div>
            </div>        </div>
    </section>

    <!-- Footer -->
    <footer class="modern-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>BelajarBahasa</h3>
                    <p>Platform pembelajaran bahasa terdepan untuk menguasai bahasa asing dengan mudah dan menyenangkan</p>
                </div>
                <div class="footer-links">
                    <div class="footer-section">
                        <h4>Platform</h4>
                        <ul>
                            <li><a href="index.html">Beranda</a></li>
                            <li><a href="register.html">Daftar</a></li>
                            <li><a href="login.html">Masuk</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Pembelajaran</h4>
                        <ul>
                            <li><a href="#lessons">Materi</a></li>
                            <li><a href="quiz.html">Kuis</a></li>
                            <li><a href="progress.html">Progress</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Bantuan</h4>
                        <ul>
                            <li><a href="#faq">FAQ</a></li>
                            <li><a href="#support">Dukungan</a></li>
                            <li><a href="#contact">Kontak</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 BelajarBahasa. Semua hak dilindungi.</p>
                <div class="footer-social">
                    <span>Ikuti kami di media sosial</span>
                </div>
            </div>
        </div>
    </footer><!-- Scripts -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/js/auth-init.js"></script>
    <script>        // Inisialisasi halaman
        document.addEventListener('DOMContentLoaded', async () => {
            // Update navigasi berdasarkan status login
            updateNavigation();
              // Ambil data lesson
            try {
                showLessonLoading();
                const lessons = await LessonService.getAllLessons();
                
                // Delay sedikit untuk efek loading yang smooth
                setTimeout(() => {
                    displayLessons(lessons);
  
                }, 800);
                
            } catch (error) {
                console.error('Error loading lessons:', error);
                setTimeout(() => {
                    showLessonError(error);
                }, 800);
            }
        });
        
        // Fungsi untuk menampilkan daftar lesson
        function displayLessons(lessons) {
            const lessonListElem = document.getElementById('lessonList');
            
            if (!lessons || lessons.length === 0) {
                lessonListElem.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">📚</div>
                        <h3>Belum Ada Materi</h3>
                        <p>Materi pembelajaran sedang dalam tahap persiapan. Silakan kembali lagi nanti!</p>
                    </div>
                `;
                return;
            }
              lessonListElem.innerHTML = lessons.map(lesson => `
                <div class="lesson-card modern-card" onclick="window.location.href='lesson.html?id=${lesson.id}'">
                    <div class="lesson-header">
                        <div class="lesson-language-badge">${lesson.language}</div>
                        <div class="lesson-difficulty">📊 ${getDifficultyLevel()}</div>
                    </div>
                    <h3 class="lesson-title">${lesson.title}</h3>
                    <p class="lesson-description">${getShortDescription(lesson.title)}</p>
                    <div class="lesson-meta">
                        <div class="lesson-creator">
                            <div class="creator-avatar">👨‍🏫</div>
                            <span>${lesson.creator?.name || 'Admin'}</span>
                        </div>
                        <div class="lesson-date">${formatDate(lesson.created_at)}</div>
                    </div>
                    <div class="lesson-footer">
                        <div class="lesson-stats">
                            <span class="stat">📖 Lengkap</span>
                            <span class="stat">📝 Kuis</span>
                            <span class="stat">💬 Diskusi</span>
                        </div>
                        <div class="lesson-arrow">→</div>
                    </div>
                </div>
            `).join('');
        }
          // Helper functions
        function getDifficultyLevel() {
            const levels = ['Pemula', 'Menengah', 'Lanjutan'];
            return levels[Math.floor(Math.random() * levels.length)];
        }
        
        function getShortDescription(title) {
            const descriptions = {
                'english': 'Pelajari bahasa Inggris dari dasar dengan materi lengkap dan latihan interaktif.',
                'japanese': 'Kuasai bahasa Jepang mulai dari hiragana, katakana, hingga kanji dasar.',
                'korean': 'Belajar bahasa Korea dengan fokus pada hangeul dan percakapan sehari-hari.',
                'french': 'Menguasai bahasa Perancis dengan pronunciation yang tepat dan grammar yang solid.',
                'default': 'Materi pembelajaran komprehensif dengan berbagai latihan dan contoh praktis untuk meningkatkan kemampuan bahasa Anda.'
            };
            
            // Cari berdasarkan kata kunci dalam title
            for (let key in descriptions) {
                if (title.toLowerCase().includes(key)) {
                    return descriptions[key];
                }
            }
            
            return descriptions['default'];
        }
  
        
        // Loading state yang lebih smooth
        function showLessonLoading() {
            const lessonListElem = document.getElementById('lessonList');
            lessonListElem.innerHTML = Array(6).fill().map(() => `
                <div class="lesson-card-skeleton">
                    <div class="skeleton-header"></div>
                    <div class="skeleton-content"></div>
                    <div class="skeleton-footer"></div>
                </div>
            `).join('');
        }
        
        // Enhanced error handling
        function showLessonError(error) {
            document.getElementById('lessonList').innerHTML = `
                <div class="error-state">
                    <div class="error-icon">⚠️</div>
                    <h3>Oops! Terjadi Kesalahan</h3>
                    <p>${error.message || 'Tidak dapat memuat daftar materi pembelajaran'}</p>
                    <button class="btn btn-primary" onclick="location.reload()">
                        🔄 Coba Lagi
                    </button>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #999;">
                        Atau <a href="register.html">daftar akun baru</a> untuk mengakses semua fitur
                    </p>
                </div>
            `;
        }
        
        // Enhanced user feedback
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : '#4285f4'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                transform: translateX(400px);
                transition: transform 0.3s ease;
                max-width: 300px;
                font-weight: 500;
            `;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            // Slide in
            setTimeout(() => {
                toast.style.transform = 'translateX(0)';
            }, 100);
            
            // Auto remove
            setTimeout(() => {
                toast.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        // Performance optimization - lazy load images
        function lazyLoadImages() {
            const images = document.querySelectorAll('img[data-src]');
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });
            
            images.forEach(img => imageObserver.observe(img));
        }

        // Call lazy loading on page load
        window.addEventListener('load', lazyLoadImages);

        // Smooth scroll untuk anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Intersection Observer untuk animasi scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);        // Observe elements yang akan dianimasi
        document.querySelectorAll('.feature-card, .section-header').forEach(el => {
            el.classList.add('fade-in');
            observer.observe(el);
        });

        // Parallax effect untuk hero background
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const hero = document.querySelector('.hero');
            if (hero) {
                hero.style.transform = `translateY(${scrolled * 0.3}px)`;
            }
        });
    </script>
</body>
</html>
